---
import { getCollection } from "astro:content";
import BlogLayout from "../../layouts/posts/BlogLayout.astro";

export async function getStaticPaths() {
  const blogEntries = await getCollection("blog");

  // Let's log what we're finding to help debug
  console.log(
    "Found blog entries:",
    blogEntries.map((entry) => entry.data.slug),
  );

  return blogEntries.map((entry) => ({
    params: { slug: entry.data.slug },
    props: { entry },
  }));
}

// Get the entry from the props
const { entry } = Astro.props;
---

<BlogLayout entry={entry} />
